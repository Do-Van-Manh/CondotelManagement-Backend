Workflow,Payment Workflow Tests - Complete UI-Based Test Cases,,,,
Test requirement,"Test all possible scenarios for payment workflow of Condotel Management system end-to-end on Front-end UI, including user interactions, button clicks, form submissions, navigation flows, error messages display, and complete payment journeys visible on screen",,,,
Number of TCs,28,,,,
,,,,,
Testing Round Summary,,,,,
,Passed,Failed,Pending,N/A,
Round 1,0,0,28,0,
Round 2,0,0,28,0,
Round 3,0,0,28,0,
,,,,,
TestcaseID,Function Name,Test Case Description,Test Case Procedure,Expected Results,Pre-conditions
,,,,,
Scenario A: Create Payment from Checkout Page (6 test cases),,,,,
WF-PAYMENT-001,CreatePayment,Create Payment - Valid Booking,"1. Open browser and login the system with Tenant role
2. Navigate to ""Danh sách Condotel"" page (/listing-stay) by clicking on menu item ""Danh sách Condotel""
3. Click on a condotel card to view details
4. On condotel detail page, select check-in date from date picker
5. Select check-out date from date picker
6. Click ""Đặt ngay"" button
7. Observe page navigation
8. On checkout page, scroll to ""Thanh toán"" section
9. Review blue info box with text: ""Thanh toán qua PayOS. Bạn sẽ được chuyển hướng đến trang thanh toán PayOS để hoàn tất giao dịch.""
10. Click ""Xác nhận và thanh toán"" button
11. Observe button state and page behavior","1. After clicking ""Đặt ngay"", user sees checkout page (/checkout) appears in browser
2. Checkout page displays booking summary in sidebar
3. ""Thanh toán"" section is visible with blue info box
4. Button ""Xác nhận và thanh toán"" is visible and enabled
5. When clicking button, button text changes to ""Đang xử lý..."" with spinner icon
6. Button becomes disabled during processing
7. After processing, user sees PayOS checkout page appears in browser (external PayOS website)
8. No error message is displayed on checkout page",User is logged in as Tenant role. Condotel is available for selected dates. Booking has valid TotalPrice > 0
WF-PAYMENT-002,CreatePayment,Create Payment - Error: Condotel Not Available,"1. Open browser and login the system with Tenant role
2. Navigate to ""Danh sách Condotel"" page
3. Click on a condotel that has overlapping booking
4. Select dates that overlap with existing booking
5. Click ""Đặt ngay"" button
6. Observe error message on condotel detail page
7. If error not shown, try to proceed to checkout and click ""Xác nhận và thanh toán"" button
8. Observe error message on checkout page","1. After clicking ""Đặt ngay"", user may see error message on condotel detail page: ""Căn hộ không khả dụng trong khoảng thời gian đã chọn. Vui lòng chọn ngày khác.""
2. Or if user reaches checkout page, after clicking ""Xác nhận và thanh toán"", user sees error message in red box on checkout page
3. Error box appears below ""Thanh toán"" section with red background (bg-red-50 dark:bg-red-900/20)
4. Error text color is red (text-red-800 dark:text-red-200)
5. Error message contains: ""Căn hộ không khả dụng"" or ""Condotel is not available""
6. User cannot proceed to PayOS checkout page
7. Button ""Xác nhận và thanh toán"" becomes enabled again after error",Existing booking with overlapping dates exists. User tries to book same dates
WF-PAYMENT-003,CreatePayment,Create Payment - Error: Booking Amount Invalid,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with booking data that has TotalPrice = 0 or null
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe error message displayed on page","1. After clicking button, user sees error message appears in red box on checkout page
2. Error box appears below ""Thanh toán"" section
3. Error box has red background and border (bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800)
4. Error text is red (text-red-800 dark:text-red-200)
5. Error message contains: ""Invalid booking amount"" or ""Booking chưa có tổng tiền"" or ""TotalPrice = 0 hoặc null""
6. User does NOT see PayOS checkout page
7. Button ""Xác nhận và thanh toán"" becomes enabled again (loading stops)
8. User can retry by clicking button again after fixing booking",Booking exists with TotalPrice = 0 or null. User is on checkout page
WF-PAYMENT-004,CreatePayment,Create Payment - Error: PayOS Connection Failed,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with valid booking data
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe error message displayed on page","1. Button shows loading state: ""Đang xử lý..."" with spinner
2. After processing, user sees error message appears in red box on checkout page
3. Error box appears below ""Thanh toán"" section
4. Error box: bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6
5. Error text: text-red-800 dark:text-red-200 whitespace-pre-line
6. Error message contains: ""Không thể tạo link thanh toán"" or ""Cannot connect to PayOS API"" or ""timed out""
7. Button ""Xác nhận và thanh toán"" becomes enabled again (loading stops)
8. User can retry payment by clicking button again
9. User does NOT see PayOS checkout page",User is logged in as Tenant role. Valid booking data exists. PayOS API is unavailable
WF-PAYMENT-005,CreatePayment,Create Payment - Error: Session Expired,"1. Open browser and login the system with Tenant role
2. Wait for session to expire or manually expire session
3. Navigate to checkout page
4. Scroll to ""Thanh toán"" section
5. Click ""Xác nhận và thanh toán"" button
6. Observe error message and page behavior","1. After clicking button, user sees error message appears in red box on checkout page
2. Error message text: ""Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.""
3. Error box: bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800
4. After 2 seconds, user sees login page (/login) appears in browser automatically
5. User must login again to continue",User session has expired. User is on checkout page
WF-PAYMENT-006,CreatePayment,Create Payment - Button Loading State,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with valid booking data
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe button appearance and state changes","1. Initially button shows text: ""Xác nhận và thanh toán""
2. After clicking, button text changes to: ""Đang xử lý...""
3. Spinner icon appears inside button (animate-spin rounded-full h-5 w-5 border-b-2 border-white)
4. Button becomes disabled (cannot click again)
5. If successful, user sees PayOS checkout page appears in browser
6. If error occurs, button text changes back to ""Xác nhận và thanh toán"" and becomes enabled again",User is logged in as Tenant role. Valid booking data exists. User clicks payment button
,,,,,
Scenario B: Payment Success Page Display (4 test cases),,,,,
WF-PAYMENT-007,PaymentSuccessPage,Payment Success Page - Display After Successful Payment,"1. Complete payment successfully on PayOS checkout page
2. After payment, observe page that appears in browser
3. View payment success page content","1. User sees payment success page appears in browser with URL containing /pay-done?bookingId={bookingId}&status=success
2. Page displays heading: ""Thanh toán thành công! 🎉"" (green text, text-3xl lg:text-4xl, text-green-600 dark:text-green-400)
3. Page displays ""Thông tin đặt phòng"" section (h3: text-2xl font-semibold) with:
   - Condotel name and image (if booking.condotelImageUrl exists)
   - Check-in and check-out dates formatted as: ""DD MMM - DD MMM, YYYY"" (e.g., ""15 Jan - 17 Jan, 2025"")
   - Number of nights displayed as: ""{nights} đêm""
4. Page displays ""Chi tiết booking"" section with:
   - Mã booking: #{bookingId} (prominent)
   - Ngày đặt: DD MMM, YYYY (formatted from booking.createdAt)
   - Tổng tiền: {totalPrice.toLocaleString()} đ (e.g., ""1,000,000 đ"")
   - Trạng thái: ""Đã xác nhận"" (green badge, text-green-600 dark:text-green-400)
   - Phương thức thanh toán: ""PayOS""
5. If vouchers were auto-generated, user sees green voucher section with:
   - Heading: ""🎁 Bạn đã nhận được {count} voucher!"" (text-green-800 dark:text-green-200)
   - Loading state: ""Đang tạo voucher cho bạn..."" (if loadingVouchers = true, with spinner)
   - Voucher cards with code, discount info, HSD, usage limit
   - Button: ""Xem tất cả voucher của tôi""
6. User sees buttons at bottom:
   - ""Xem booking của tôi"" button
   - ""Về trang chủ"" button (bg-neutral-600 hover:bg-neutral-700)
7. All information matches booking data",Payment was completed successfully on PayOS. User returns to application and sees /pay-done page
WF-PAYMENT-008,PaymentSuccessPage,Payment Success Page - No Vouchers Generated,"1. Complete payment successfully on PayOS
2. After payment, observe page that appears in browser
3. View payment success page content
4. Check if voucher section is displayed","1. User sees payment success page appears in browser
2. Page displays heading: ""Thanh toán thành công! 🎉"" (green)
3. Page displays booking information correctly
4. User does NOT see green voucher section (no voucher box displayed)
5. Or if voucher API is called, user may see blue info box: ""Không có voucher được tạo tự động"" (text-blue-800 dark:text-blue-200)
6. User sees buttons: ""Xem booking của tôi"" and ""Về trang chủ""
7. All other information displays correctly",Payment was completed successfully. Host has not configured auto-generate vouchers. User sees /pay-done page
WF-PAYMENT-009,PaymentSuccessPage,Payment Success Page - Booking Not Found,"1. Type URL in browser: /pay-done?bookingId=99999&status=success
2. Press Enter to navigate
3. Observe page content displayed","1. User sees loading spinner appears: ""Đang tải thông tin..."" (animate-spin rounded-full h-12 w-12 border-b-2 border-primary-6000)
2. Loading text: ""Đang tải thông tin..."" (text-neutral-600 dark:text-neutral-400)
3. After loading, user sees error state displayed:
   - Heading: ""Có lỗi xảy ra"" (red text, text-3xl lg:text-4xl, text-red-600 dark:text-red-400)
   - Error message: ""Không tìm thấy thông tin booking"" or ""Không thể tải thông tin booking""
   - Button: ""Về trang chủ""
4. User does NOT see booking information
5. User can click ""Về trang chủ"" button to navigate",BookingId does not exist in database. User navigates to /pay-done with invalid bookingId
WF-PAYMENT-010,PaymentSuccessPage,Payment Success Page - Missing BookingId Parameter,"1. Type URL in browser: /pay-done
2. Press Enter to navigate
3. Observe page content displayed","1. User sees error state displayed immediately (no loading spinner)
2. Heading: ""Có lỗi xảy ra"" (red text, text-3xl lg:text-4xl)
3. Error message: ""Không tìm thấy thông tin booking""
4. Button: ""Về trang chủ"" is visible
5. User does NOT see booking information
6. User can click ""Về trang chủ"" button",User navigates to /pay-done without bookingId query parameter
,,,,,
Scenario C: Payment Pending Page Display (3 test cases),,,,,
WF-PAYMENT-011,PaymentPendingPage,Payment Pending Page - Display While Payment Processing,"1. Initiate payment on PayOS checkout page but do not complete payment
2. After some time, observe page that appears in browser
3. View payment pending page content","1. User sees payment pending page appears in browser with URL containing /pay-done?bookingId={bookingId}&status=pending (or status != success)
2. Page displays heading: ""Đang chờ thanh toán"" (orange text, text-3xl lg:text-4xl, text-orange-600 dark:text-orange-400)
3. User sees yellow warning box displayed: bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4
4. Warning message text: ""Lưu ý: Booking của bạn đang ở trạng thái '{status}'. Vui lòng hoàn tất thanh toán để xác nhận đặt phòng."" (text-yellow-800 dark:text-yellow-200)
5. User sees ""Thông tin đặt phòng"" section with condotel details
6. User sees ""Chi tiết booking"" section with:
   - Mã booking: #{bookingId}
   - Ngày đặt: DD MMM, YYYY
   - Tổng tiền: formatted as currency
   - Trạng thái: ""Đang chờ"" (yellow badge, text-yellow-600 dark:text-yellow-400)
   - Phương thức thanh toán: ""PayOS""
7. User sees buttons:
   - ""Xem booking của tôi"" button
   - ""Về trang chủ"" button
8. User does NOT see voucher section (payment not confirmed yet)",Payment is still processing. User sees /pay-done page with status != success
WF-PAYMENT-012,PaymentPendingPage,Payment Pending Page - Loading State,"1. Type URL in browser: /pay-done?bookingId={bookingId}&status=pending
2. Press Enter to navigate
3. Observe loading state before content appears","1. User sees loading spinner appears: ""Đang tải thông tin..."" (animate-spin rounded-full h-12 w-12 border-b-2 border-primary-6000)
2. Loading text: ""Đang tải thông tin..."" (text-neutral-600 dark:text-neutral-400)
3. User does NOT see booking information during loading
4. After loading completes, user sees booking information or error state displayed",User navigates to /pay-done page. Page is loading booking data
WF-PAYMENT-013,PaymentPendingPage,Payment Pending Page - Status Changes to Confirmed,"1. View payment pending page (shows ""Đang chờ thanh toán"")
2. Wait for payment to complete in background
3. Click browser refresh button (F5) or navigate back and forward
4. Observe updated page content","1. Initially user sees heading: ""Đang chờ thanh toán"" (orange)
2. After refresh, user sees heading changes to: ""Thanh toán thành công! 🎉"" (green)
3. Status badge changes from ""Đang chờ"" (yellow) to ""Đã xác nhận"" (green)
4. User sees voucher section appears if vouchers were generated
5. All information updates to reflect confirmed status",Payment was pending. Payment completes in background. User refreshes page
,,,,,
Scenario D: Payment Cancelled Page Display (3 test cases),,,,,
WF-PAYMENT-014,PaymentCancelledPage,Payment Cancelled Page - Display After Cancellation,"1. On PayOS checkout page, click cancel button or close browser tab
2. After cancelling, observe page that appears in browser
3. View payment cancelled page content","1. User sees payment cancelled page appears in browser with URL containing /payment/cancel?bookingId={bookingId}&status=cancelled
2. User sees red X icon in circle displayed
3. Page displays heading: ""Thanh toán thất bại"" 
4. User sees cancellation message: ""Giao dịch thanh toán của bạn đã bị hủy. Vui lòng thử lại hoặc liên hệ hỗ trợ nếu vấn đề vẫn tiếp tục.""
5. If booking exists, user sees ""Thông tin đặt phòng"" section with:
   - Mã booking: #{bookingId}
   - Căn hộ: condotel name (if available)
   - Ngày: DD/MM/YYYY - DD/MM/YYYY 
   - Tổng tiền: {totalPrice.toLocaleString()} 
6. If orderCode or paymentLinkId available, user sees ""Thông tin thanh toán"" section with:
   - Mã đơn hàng: {orderCode}
   - Trạng thái: ""Đã hủy"" 
7. User sees yellow note box
8. Note message: ""Lưu ý: Nếu bạn đã thanh toán nhưng vẫn thấy thông báo này, vui lòng kiểm tra lại email xác nhận hoặc liên hệ hỗ trợ với mã booking của bạn.""
9. User sees buttons:
   - ""Thử thanh toán lại"" button (ButtonPrimary)
   - ""Xem booking của tôi"" button (ButtonSecondary)
   - ""Về trang chủ"" button (ButtonSecondary)",User cancels payment on PayOS. User sees /payment/cancel page appears in browser
WF-PAYMENT-015,PaymentCancelledPage,Payment Cancelled Page - Loading State,"1. Type URL in browser: /payment/cancel?bookingId={bookingId}&status=cancelled
2. Press Enter to navigate
3. Observe loading state before content appears","1. User sees loading spinner appears: ""Đang tải thông tin..."" (animate-spin rounded-full h-12 w-12 border-b-2 border-primary-6000)
2. Loading text: ""Đang tải thông tin..."" (text-neutral-600 dark:text-neutral-400)
3. User does NOT see booking information during loading
4. After loading completes, user sees booking information (if booking exists) or page without booking info displayed",User navigates to /payment/cancel page. Page is loading booking data
WF-PAYMENT-016,PaymentCancelledPage,Payment Cancelled Page - No Booking Data,"1. Type URL in browser: /payment/cancel?bookingId=99999&status=cancelled
2. Press Enter to navigate
3. Observe page content displayed","1. User sees loading spinner appears initially
2. After loading, user sees cancellation message and UI displayed normally
3. User does NOT see ""Thông tin đặt phòng"" section (booking not found)
4. User may see ""Thông tin thanh toán"" section if orderCode/paymentLinkId are available
5. User sees yellow note box displayed
6. User sees buttons:
   - ""Thử thanh toán lại"" button is NOT shown (no valid bookingId)
   - ""Xem booking của tôi"" button is shown
   - ""Về trang chủ"" button is shown",BookingId does not exist. User navigates to /payment/cancel with invalid bookingId
,,,,,
Scenario E: Complete Payment Flow End-to-End (6 test cases),,,,,
WF-PAYMENT-017,PaymentFlowE2E,Complete Payment Flow - Success Journey,"1. Open browser and login the system with Tenant role
2. Click on menu item ""Danh sách Condotel"" to navigate to listing page
3. Click on a condotel card to view details
4. On condotel detail page, select check-in date from date picker
5. Select check-out date from date picker (must be after check-in date)
6. Click ""Đặt ngay"" button
7. Observe page navigation
8. On checkout page, review booking summary in sidebar
9. Scroll to ""Thanh toán"" section
10. Review blue info box with text: ""Thanh toán qua PayOS. Bạn sẽ được chuyển hướng đến trang thanh toán PayOS để hoàn tất giao dịch.""
11. Click ""Xác nhận và thanh toán"" button
12. Observe button loading state
13. Observe page navigation
14. On PayOS checkout page (external website), complete payment
15. After payment, observe page that appears in browser","1. After clicking ""Đặt ngay"", user sees checkout page appears in browser
2. Checkout page displays all booking details in sidebar
3. Button ""Xác nhận và thanh toán"" shows loading: ""Đang xử lý..."" with spinner
4. After processing, user sees PayOS checkout page appears in browser (external PayOS website)
5. After completing payment on PayOS, user sees payment success page.
6. Payment success page displays:
   - Heading: ""Thanh toán thành công! 🎉"" 
   - All booking information
   - Status: ""Đã xác nhận"" 
7. User can click ""Xem booking của tôi"" button to navigate to booking history page
8. Complete journey from listing to payment success works seamlessly",User is logged in as Tenant role. Condotel is available. User has valid payment method on PayOS
WF-PAYMENT-018,PaymentFlowE2E,Complete Payment Flow - Cancelled Journey,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page and create booking
3. Scroll to ""Đặt ngay"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe page navigation
6. On PayOS checkout page, click cancel button or close browser tab
7. After cancelling, observe page that appears in browser","1. After clicking ""Xác nhận và thanh toán"", user sees PayOS checkout page appears in browser
2. User clicks cancel button on PayOS or closes browser tab
3. After cancelling, user sees payment cancelled page
4. Payment cancelled page displays:
   - Heading: ""Thanh toán thất bại"" 
   - Cancellation message
   - Booking information 
   - Yellow note box
5. User can click ""Thử thanh toán lại"" button to navigate to checkout page
6. User can click ""Xem booking của tôi"" button to navigate to booking history page
7. Complete journey from checkout to payment cancellation works correctly",User is logged in as Tenant role. Valid booking data exists. User cancels payment on PayOS
WF-PAYMENT-019,PaymentFlowE2E,Complete Payment Flow - Error on Checkout Page,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with valid booking data
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe error message displayed on page","1. Button shows loading state: ""Đang xử lý..."" with spinner
2. After processing, user sees error message appears in red box on checkout page
3. Error box appears below ""Thanh toán"" section
4. Error box: bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6
5. Error text: text-red-800 dark:text-red-200 whitespace-pre-line
6. Error message contains: ""Không thể tạo link thanh toán"" or backend error message
7. Button becomes enabled again (loading stops, shows ""Xác nhận và thanh toán"")
8. User can retry by clicking ""Xác nhận và thanh toán"" button again
9. User does NOT see PayOS checkout page",User is logged in as Tenant role. Valid booking data exists. PayOS API returns error or is unavailable
WF-PAYMENT-020,PaymentFlowE2E,Complete Payment Flow - Without Login,"1. Open browser without logging in (not authenticated)
2. Click on menu item ""Danh sách Condotel"" to navigate to listing page
3. Click on a condotel card
4. Try to select dates and click ""Đặt ngay"" button
5. Observe alert message and page behavior","1. After clicking ""Đặt ngay"", user sees alert popup appears: ""Vui lòng đăng nhập để đặt phòng""
2. After clicking OK on alert, user sees login page (/login) appears in browser
3. User cannot proceed to checkout without logging in
4. After login, user can continue booking process",User is not logged in. User tries to access booking
WF-PAYMENT-021,PaymentFlowE2E,Complete Payment Flow - Missing Condotel Selection,"1. Open browser and login the system with Tenant role
2. Type URL in browser: /checkout
3. Press Enter to navigate directly
4. Observe page behavior and error message","1. User may see alert popup appears: ""Vui lòng chọn căn hộ để đặt phòng""
2. Or checkout page displays error message: ""Vui lòng chọn căn hộ để đặt phòng""
3. User cannot proceed without selecting condotel
4. User may be redirected to listing page or error is shown
5. Button ""Xác nhận và thanh toán"" may be disabled",User is logged in but no condotel is selected. User tries to access /checkout directly
WF-PAYMENT-022,PaymentFlowE2E,Complete Payment Flow - Invalid Date Selection,"1. Open browser and login the system with Tenant role
2. Navigate to condotel detail page
3. Try to select check-out date before or same as check-in date
4. Click ""Đặt ngay"" button
5. Observe alert message displayed","1. After clicking ""Đặt ngay"", user sees alert popup appears: ""Ngày check-out phải sau ngày check-in""
2. User cannot proceed to checkout with invalid dates
3. User must correct dates to proceed
4. Date picker may prevent selecting invalid dates",User is logged in as Tenant role. User selects invalid date range
,,,,,
Scenario F: Checkout Page Payment Section (4 test cases),,,,,
WF-PAYMENT-023,CheckoutPaymentSection,Checkout Page - Payment Section Display,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with valid booking data
3. Scroll down to find ""Đặt ngay"" section
4. Observe payment section UI elements displayed","1. User sees section heading: ""Thanh toán"" (h3: text-2xl font-semibold)
2. User sees blue info box displayed: bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6
3. Info box contains text:
   - ""Thanh toán qua PayOS"" (strong, text-blue-800 dark:text-blue-200)
   - ""Bạn sẽ được chuyển hướng đến trang thanh toán PayOS để hoàn tất giao dịch."" (text-blue-800 dark:text-blue-200)
4. User sees button: ""Xác nhận và thanh toán"" (ButtonPrimary, w-full)
5. Button is enabled (can be clicked) if condotelId exists and not loading
6. Button is disabled (grayed out) if loading=true or condotelId is missing
7. User does NOT see error message initially",User is logged in as Tenant role. Valid booking data is available. User is on checkout page
WF-PAYMENT-024,CheckoutPaymentSection,Checkout Page - Error Message Display,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe error message that appears on page","1. After clicking button, user sees error message appears in red box on page
2. Error box appears below blue info box
3. Error box: bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6
4. Error text: text-sm text-red-800 dark:text-red-200 whitespace-pre-line
5. Error message content matches backend error (e.g., ""Không thể tạo link thanh toán"", ""Invalid booking amount"", etc.)
6. Error box is visible and clearly displayed
7. Button ""Xác nhận và thanh toán"" becomes enabled again after error
8. User can read error message and retry",User is on checkout page. Error occurs when clicking payment button
WF-PAYMENT-025,CheckoutPaymentSection,Checkout Page - Button Disabled State,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page without condotel data (missing state.condotelId)
3. Scroll to ""Thanh toán"" section
4. Observe button appearance
5. Try to click ""Xác nhận và thanh toán"" button","1. User sees button ""Xác nhận và thanh toán"" is disabled (grayed out, non-clickable)
2. Button appears disabled visually
3. When user tries to click button, nothing happens (no action)
4. User may see alert: ""Vui lòng chọn căn hộ để đặt phòng"" if button is clicked",User is on checkout page. Condotel data is missing from state
WF-PAYMENT-026,CheckoutPaymentSection,Checkout Page - Button Loading State During Payment,"1. Open browser and login the system with Tenant role
2. Navigate to checkout page with valid booking data
3. Scroll to ""Thanh toán"" section
4. Click ""Xác nhận và thanh toán"" button
5. Observe button appearance changes while processing","1. Initially button shows text: ""Xác nhận và thanh toán""
2. After clicking, button text changes to: ""Đang xử lý...""
3. Spinner icon appears inside button: animate-spin rounded-full h-5 w-5 border-b-2 border-white
4. Button becomes disabled (cannot click again)
5. If successful, user sees PayOS checkout page appears in browser
6. If error, button text changes back to ""Xác nhận và thanh toán"" and becomes enabled",User is on checkout page. User clicks payment button. System is processing payment
,,,,,
Scenario G: Navigation and Button Actions (2 test cases),,,,,
WF-PAYMENT-027,NavigationActions,Payment Success Page - Button Navigation,"1. Complete payment successfully
2. View payment success page (/pay-done)
3. Click ""Xem booking của tôi"" button
4. Observe page that appears
5. Go back to payment success page
6. Click ""Về trang chủ"" button
7. Observe page that appears","1. After clicking ""Xem booking của tôi"", user sees booking history page (/my-bookings) appears in browser
2. Booking history page displays the confirmed booking in list
3. After going back and clicking ""Về trang chủ"", user sees home page (/) appears in browser
4. Home page displays correctly
5. All navigation works as expected",Payment was completed successfully. User is on /pay-done page
WF-PAYMENT-028,NavigationActions,Payment Cancelled Page - Button Navigation,"1. View payment cancelled page (/payment/cancel)
2. Click ""Thử thanh toán lại"" button
3. Observe page that appears
4. Go back to payment cancelled page
5. Click ""Xem booking của tôi"" button
6. Observe page that appears
7. Go back and click ""Về trang chủ"" button
8. Observe page that appears","1. After clicking ""Thử thanh toán lại"", user sees checkout page appears in browser with URL containing /checkout?bookingId={bookingId}&retry=true
2. Checkout page loads with booking data displayed (if bookingId is valid)
3. User can retry payment from checkout page
4. After clicking ""Xem booking của tôi"", user sees booking history page (/my-bookings) appears in browser
5. After clicking ""Về trang chủ"", user sees home page (/) appears in browser
6. All navigation works correctly",Payment was cancelled. User is on /payment/cancel page. BookingId is available
